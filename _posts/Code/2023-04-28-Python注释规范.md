---
title:	"Python注释规范"
mathjax: True
layout: post
categories: Code
---

本文档介绍了 Python 中常见的注释规范，包括 PEP 8 风格指南的建议。

## 1. 单行注释

使用井号（#）来编写单行注释。确保在井号后有一个空格，并简洁地解释代码。单行注释可以放在被注释的代码行之上，也可以放在语句或表达式之后。

```python
# 计算平方和
sum_of_squares = x ** 2 + y ** 2


sum_of_squares = x ** 2 + y ** 2 # 计算平方和
```

## 2. 多行注释

对于多行注释，可以使用连续的单行注释，也可以使用三个双引号（"""）或三个单引号（'''）来创建多行字符串（但不赋值给任何变量），即文档字符串（docstring）。

```python
"""
这个函数接收两个参数 x 和 y
然后返回它们的平方和
"""
def square_sum(x, y):
    return x ** 2 + y ** 2
```

## 3. 函数和类的 DocsSring

在每个函数或类的开头编写 docstring，简要描述它的功能、参数、返回值和可能的异常。

```python
def square_sum(x, y):
    """
    计算两个数的平方和

    参数:
    x (int): 第一个数
    y (int): 第二个数

    返回:
    int: 两个数的平方和
    """
    return x ** 2 + y ** 2
```

## 4. 注释异常

在 docstring 中注释异常，可以帮助其他开发者了解函数或方法可能抛出哪些异常，以便于正确处理这些异常情况。

```python
def divide(a, b):
    """
    将两个数相除并返回结果

    参数:
    a (float): 被除数
    b (float): 除数

    返回:
    float: 相除后的结果

    异常:
    ZeroDivisionError: 如果除数为零
    """
    if b == 0:
        raise ZeroDivisionError("除数不能为零")
    return a / b
```

## 5. DocStrings常用编写风格

1. reST风格

   ```python
   """
   This is a reST style.
    
   :param param1: this is a first param
   :param param2: this is a second param
   :returns: this is a description of what is returned
   :raises keyError: raises an exception
   """
   ```

2. Google风格

   ```python
   """
   This is a groups style docs.
    
   Parameters:
    param1 - this is the first param
    param2 - this is a second param
    
   Returns:
    This is a description of what is returned
    
   Raises:
    KeyError - raises an exception
   """
   ```

3. Numpy风格

   ```python
   """
   My numpydoc description of a kind
   of very exhautive numpydoc format docstring.
    
   Parameters
   ----------
   first : array_like
    the 1st param name `first`
   second :
    the 2nd param
   third : {'value', 'other'}, optional
    the 3rd param, by default 'value'
    
   Returns
   -------
   string
    a value in a string
    
   Raises
   ------
   KeyError
    when a key error
   OtherError
    when an other error
   """
   ```

遵循这些注释规范有助于提高代码的可读性和可维护性。